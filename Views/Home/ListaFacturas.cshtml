@{
    ViewData["Title"] = "Home Page";
}

<script type="text/javascript">
    $(document).ready(function () {


            $("#boton").click(function() {


                $.getJSON("/home/listafacturasjson",function(datos) {
                        console.log(datos);
                       for (let i=0;i<datos.length;i++) {

                           $("#mitabla2").append("<tr><td>"+datos[i].numero
                                                +"</td><td>"+datos[i].concepto+"</td><td>"+
                                                    datos[i].importe+"</td></tr>");
                       }
                })
            });

            $("#filtroconcepto").keyup(function() {

                console.log($(this).val());

                $.getJSON("/home/ListaFacturasJSONFiltro?concepto="+$(this).val(),function(datos) {
                        console.log(datos);
                        $("#mitabla2").empty();
                       for (let i=0;i<datos.length;i++) {

                           $("#mitabla2").append("<tr><td>"+datos[i].numero
                                                +"</td><td>"+datos[i].concepto+"</td><td>"+
                                                    datos[i].importe+"</td></tr>");
                       }
                })

            })
         
    })
</script>

<table id="mitabla">
    <tr>
        <th>Numero</th>
        <th>Concepto</th>
        <th>Importe</th>
    </tr>

    @foreach (var factura in ViewBag.listaFacturas)
    {
        <tr>
            <td>@factura.Numero</td>
            <td>@factura.Concepto</td>
            <td>@factura.Importe</td>

        </tr>
    }
</table>
<hr>
filtrar concepto<input type="text" id="filtroconcepto"/>
<table id="mitabla2">


</table>

<input type="button" value="aceptar" id="boton"/>



</div>
